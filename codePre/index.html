<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>codePre</title>
    <style>
      .viewer {
        position: relative;
        width: 100%;
        height: 20px;
      }

      .viewer textarea,
      .viewer iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 96%;
        height: 600px;
      }
      .viewer button {
        position: absolute;
        width: 20%;
      }
    </style>
  </head>
  <body>
    <div class="viewer">
      <button class="codeView">codeView</button>
      <button class="siteView">siteView</button>
    </div>
    <div class="viewer">
      <textarea class="text"></textarea>
      <iframe class="preview"></iframe>
    </div>
  </body>
  <script>
    "use strict";
    const textarea = document.querySelector(".text");
    const siteView = document.querySelector(".siteView");
    const iframe = document.querySelector(".preview");
    const codeView = document.querySelector(".codeView");

    hide(iframe);

    siteView.addEventListener("click", () => {
      iframe.srcdoc = textarea.value;
      show(iframe);
      hide(siteView);
      hide(textarea);
      show(codeView);
    });

    codeView.addEventListener("click", () => {
      hide(iframe);
      show(siteView);
      show(textarea);
      hide(codeView);
    });

    function hide(el) {
      el.style.display = "none";
    }
    function show(el) {
      el.style.display = "block";
    }
  </script>
</html>
