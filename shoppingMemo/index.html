<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>shoppingMemo</title>
    <style>
        table {
            border-collapse: collapse;
            width: 50%;
            margin-top: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>
    <h1>テキストファイルから表を作成</h1>
    <input type="file" id="fileInput" accept=".txt,.csv">
    <table id="dataTable">
        <thead>
            <tr>
                <th>選択</th>
                <th>データ</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>

    <script>
      document.getElementById('fileInput').addEventListener('change', function(event) {
    const file = event.target.files[0];
    if (!file) {
        return;
    }

    const reader = new FileReader();
    reader.onload = function(e) {
        const contents = e.target.result;
        createTable(contents);
    };
    reader.readAsText(file, 'UTF-8'); // テキストファイルとして読み込む
});

function createTable(text) {
    const tbody = document.querySelector('#dataTable tbody');
    tbody.innerHTML = ''; // 既存の行をクリア

    // 行ごとに分割
    const lines = text.split('\n');
    lines.forEach(line => {
        // 空行を無視
        if (line.trim() === '') return;

        const row = document.createElement('tr');
        
        // チェックボックスのセルを作成
        const checkboxCell = document.createElement('td');
        const checkbox = document.createElement('input');
        checkbox.type = 'checkbox';
        checkboxCell.appendChild(checkbox);
        row.appendChild(checkboxCell);
        
        // データ（行の内容）のセルを作成
        const dataCell = document.createElement('td');
        dataCell.textContent = line.trim();
        row.appendChild(dataCell);

        tbody.appendChild(row);
    });
}
</script>
</body>
</html>
